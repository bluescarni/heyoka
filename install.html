
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Installation &#8212; heyoka 0.20.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic tutorials" href="basic_tutorials.html" />
    <link rel="prev" title="heyoka" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/white_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">heyoka 0.20.0 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Installation
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="basic_tutorials.html">
   Basic tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_taylor_method.html">
     Taylor’s method
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_expression_system.html">
     The expression system
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_adaptive.html">
     The adaptive integrator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_adaptive_custom.html">
     Customising the adaptive integrator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_param.html">
     Runtime parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_nonauto.html">
     Non-autonomous systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_d_output.html">
     Dense &amp; continuous output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_events.html">
     Event detection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="advanced_tutorials.html">
   Advanced tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_batch_mode.html">
     Batch mode
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_extended_precision.html">
     Computations in extended precision
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_arbitrary_precision.html">
     Computations in arbitrary precision
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_s11n.html">
     Serialisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_ensemble.html">
     Ensemble propagations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tut_parallel_mode.html">
     Parallel mode
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="benchmarks.html">
   Benchmarks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ad_notes.html">
   Notes on automatic differentiation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="breaking_changes.html">
   Breaking changes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="acknowledgement.html">
   Acknowledgement
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bibliography.html">
   Bibliography
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/bluescarni/heyoka"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/bluescarni/heyoka/issues/new?title=Issue%20on%20page%20%2Finstall.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/install.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#support-for-extended-precision">
     Support for extended precision
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bit-precision">
       80-bit precision
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       128-bit precision
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#arbitrary-precision">
       Arbitrary-precision
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#packages">
   Packages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conda">
     Conda
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#freebsd">
     FreeBSD
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation-from-source">
   Installation from source
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#including-heyoka-in-your-project-via-cmake">
   Including heyoka in your project via CMake
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Installation</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#support-for-extended-precision">
     Support for extended precision
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bit-precision">
       80-bit precision
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       128-bit precision
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#arbitrary-precision">
       Arbitrary-precision
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#packages">
   Packages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conda">
     Conda
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#freebsd">
     FreeBSD
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation-from-source">
   Installation from source
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#including-heyoka-in-your-project-via-cmake">
   Including heyoka in your project via CMake
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>heyoka is written in modern C++, and it requires a compiler able to understand
at least C++17. The library is regularly tested on
a continuous integration pipeline which currently includes:</p>
<ul class="simple">
<li><p>GCC 9 on Linux,</p></li>
<li><p>Clang 11 on OSX,</p></li>
<li><p>MSVC 2019 and Clang 12 on Windows.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using MSVC, heyoka currently requires MSVC&gt;=2019. It is also possible
to compile heyoka using the standard library from MSVC 2017 in conjunction
with the <code class="docutils literal notranslate"><span class="pre">clang-cl</span></code> compiler.</p>
</div>
<p>The tested and supported CPU architectures at this time are x86-64,
64-bit ARM and 64-bit PowerPC.</p>
<p>heyoka has the following <strong>mandatory</strong> dependencies:</p>
<ul class="simple">
<li><p>the <a class="reference external" href="https://llvm.org/">LLVM</a> compiler infrastructure library (version &gt;= 10),</p></li>
<li><p>the <a class="reference external" href="https://www.boost.org/">Boost</a> C++ libraries (version &gt;= 1.60),</p></li>
<li><p>the <a class="reference external" href="https://fmt.dev/latest/index.html">{fmt}</a> library,</p></li>
<li><p>the <a class="reference external" href="https://github.com/gabime/spdlog">spdlog</a> library,</p></li>
<li><p>the <a class="reference external" href="https://github.com/oneapi-src/oneTBB">TBB</a> library.</p></li>
</ul>
<p>Additionally, heyoka has the following <strong>optional</strong> dependencies:</p>
<ul class="simple">
<li><p>the <a class="reference external" href="https://bluescarni.github.io/mppp/">mp++</a> multiprecision library,
which provides support for arbitrary-precision integrations on all platforms,
and for quadruple-precision integrations on platforms
supporting the non-standard <code class="docutils literal notranslate"><span class="pre">__float128</span></code> type. heyoka requires
an mp++ installation with support for Boost.serialization
(see the <a class="reference external" href="https://bluescarni.github.io/mppp/installation.html#installation" title="(in mp++ v0.27)"><span class="xref std std-ref">mp++ installation instructions</span></a>).
The minimum required version of mp++ is 0.27;</p></li>
<li><p>the <a class="reference external" href="https://sleef.org/">SLEEF</a> vectorized math library (improves the performance
of integrations in batch mode),</p></li>
<li><p>the <a class="reference external" href="https://xtensor.readthedocs.io/en/latest/">xtensor and xtensor-blas</a>
libraries (used in the tests and benchmarks).</p></li>
</ul>
<p><a class="reference external" href="https://cmake.org/">CMake</a> is the build system used by heyoka and it must also be available when
installing from source (the minimum required version is 3.18).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <a class="reference external" href="https://github.com/gabime/spdlog">spdlog</a> library depends on the <a class="reference external" href="https://fmt.dev/latest/index.html">{fmt}</a> library,
and by default spdlog uses a bundled internal copy of {fmt} which may not be compatible with other {fmt} installations
that may be present on the system. This situation can lead to build and/or runtime errors.</p>
<p>Users are thus advised to ensure that spdlog is built with the
<code class="docutils literal notranslate"><span class="pre">SPDLOG_FMT_EXTERNAL</span></code> CMake option turned <code class="docutils literal notranslate"><span class="pre">ON</span></code>, in order to ensure that both spdlog and heyoka are linking
to the same {fmt} installation.</p>
</div>
<section id="support-for-extended-precision">
<span id="ep-support"></span><h3>Support for extended precision<a class="headerlink" href="#support-for-extended-precision" title="Permalink to this headline">#</a></h3>
<p>Whereas in heyoka double-precision computations are always supported, support for extended-precision
computations varies depending on the software/hardware platform.</p>
<section id="bit-precision">
<h4>80-bit precision<a class="headerlink" href="#bit-precision" title="Permalink to this headline">#</a></h4>
<p>80-bit precision support requires an x86 processor. Additionally, the 80-bit floating-point
type must be available in C++ as the <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">double</span></code> type. This is case for most compilers,
with the notable exception of Microsoft Visual C++ (MSVC), where <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">double</span></code> is a synonym for <code class="docutils literal notranslate"><span class="pre">double</span></code>.
Thus, on Windows 80-bit precision support is <strong>not</strong> available, unless
heyoka (and all its dependencies) have been compiled with a compiler supporting the
80-bit floating-point type.</p>
</section>
<section id="id2">
<h4>128-bit precision<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h4>
<p>On platforms where <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">double</span></code> is a quadruple-precision floating-point datatype (e.g., 64-bit ARM),
quadruple-precision integrations are always supported. Otherwise,
on platforms such as x86-64, quadruple-precision computations are supported if:</p>
<ul class="simple">
<li><p>the nonstandard <code class="docutils literal notranslate"><span class="pre">__float128</span></code> floating-point type is
available and supported, and</p></li>
<li><p>an installation of the <a class="reference external" href="https://bluescarni.github.io/mppp/">mp++</a> library with support
for the <a class="reference external" href="https://bluescarni.github.io/mppp/real128.html#_CPPv4N4mppp7real128E" title="(in mp++ v0.27)"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">mppp::real128</span></code></a> class is available (see the <a class="reference external" href="https://bluescarni.github.io/mppp/installation.html#installation" title="(in mp++ v0.27)"><span class="xref std std-ref">mp++ installation instructions</span></a>),
and</p></li>
<li><p>heyoka is compiled with the <code class="docutils literal notranslate"><span class="pre">HEYOKA_WITH_MPPP</span></code> option enabled (see <a class="reference internal" href="#installation-from-source"><span class="std std-ref">below</span></a>).</p></li>
</ul>
<p>If these conditions are satisfied, then quadruple-precision computations are supported in heyoka
via the <a class="reference external" href="https://bluescarni.github.io/mppp/real128.html#_CPPv4N4mppp7real128E" title="(in mp++ v0.27)"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">mppp::real128</span></code></a> type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The non-IEEE <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">double</span></code> type available on some PowerPC platforms
(which implements a double-length floating-point representation with 106
significant bits) is <strong>not</strong> supported by heyoka at this time.</p>
</div>
</section>
<section id="arbitrary-precision">
<h4>Arbitrary-precision<a class="headerlink" href="#arbitrary-precision" title="Permalink to this headline">#</a></h4>
<p>Arbitrary-precision integrations are supported on all platforms, provided that heyoka
is compiled with the <code class="docutils literal notranslate"><span class="pre">HEYOKA_WITH_MPPP</span></code> option enabled (see <a class="reference internal" href="#installation-from-source"><span class="std std-ref">below</span></a>)
and that the mp++ library is compiled with the <code class="docutils literal notranslate"><span class="pre">MPPP_WITH_MPFR</span></code> option enabled
(see the <a class="reference external" href="https://bluescarni.github.io/mppp/installation.html#installation" title="(in mp++ v0.27)"><span class="xref std std-ref">mp++ installation instructions</span></a>).</p>
</section>
</section>
</section>
<section id="packages">
<h2>Packages<a class="headerlink" href="#packages" title="Permalink to this headline">#</a></h2>
<section id="conda">
<h3>Conda<a class="headerlink" href="#conda" title="Permalink to this headline">#</a></h3>
<p>heyoka is available via the <a class="reference external" href="https://docs.conda.io/en/latest/">conda</a> package manager for Linux, OSX and Windows
thanks to the infrastructure provided by <a class="reference external" href="https://conda-forge.org/">conda-forge</a>.</p>
<p>In order to install heyoka via conda, you just need to add <code class="docutils literal notranslate"><span class="pre">conda-forge</span></code>
to the channels, and then we can immediately install heyoka:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>config<span class="w"> </span>--add<span class="w"> </span>channels<span class="w"> </span>conda-forge
<span class="gp">$ </span>conda<span class="w"> </span>config<span class="w"> </span>--set<span class="w"> </span>channel_priority<span class="w"> </span>strict
<span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>heyoka
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">heyoka</span></code> package on conda is built against an unspecified version of LLVM. If you need
a package built against a <em>specific</em> version of LLVM, you can install one of the <code class="docutils literal notranslate"><span class="pre">heyoka-llvm-*</span></code>
meta-packages. For instance, in order to install a package built against LLVM 12, you
could use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>install<span class="w"> </span>heyoka-llvm-12
</pre></div>
</div>
<p>The list of heyoka meta-packages is available
<a class="reference external" href="https://github.com/conda-forge/heyoka-feedstock">here</a>.</p>
<p>The conda packages for heyoka are maintained by the core development team,
and they are regularly updated when new heyoka versions are released.</p>
<p>Please refer to the <a class="reference external" href="https://docs.conda.io/en/latest/">conda documentation</a> for instructions
on how to setup and manage
your conda installation.</p>
</section>
<section id="freebsd">
<h3>FreeBSD<a class="headerlink" href="#freebsd" title="Permalink to this headline">#</a></h3>
<p>A community-supported FreeBSD port via <a class="reference external" href="https://docs.freebsd.org/en/books/handbook/ports/#pkgng-intro">pkg</a> is available for
heyoka. In order to install heyoka using pkg, execute the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pkg<span class="w"> </span>install<span class="w"> </span>heyoka
</pre></div>
</div>
</section>
</section>
<section id="installation-from-source">
<span id="id3"></span><h2>Installation from source<a class="headerlink" href="#installation-from-source" title="Permalink to this headline">#</a></h2>
<p>Source releases of heyoka can be downloaded from
<a class="reference external" href="https://github.com/bluescarni/heyoka/releases">github</a>.
Once in the source tree
of heyoka, you can use <code class="docutils literal notranslate"><span class="pre">cmake</span></code> to configure the build to your liking
(e.g., enabling optional features, customizing the installation
path, etc.). The available configuration options are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_WITH_MPPP</span></code>: enable features relying on the mp++ library (off by default),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_WITH_SLEEF</span></code>: enable features relying on the SLEEF library (off by default),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_BUILD_TESTS</span></code>: build the test suite (off by default),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_BUILD_BENCHMARKS</span></code>: build the benchmarking suite (off by default),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_BUILD_TUTORIALS</span></code>: build the tutorials (off by default),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_BUILD_STATIC_LIBRARY</span></code>: build heyoka as a static library, instead
of a dynamic library (off by default),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_ENABLE_IPO</span></code>: enable link-time optimisations when building
the heyoka library (requires compiler support, off by default).</p></li>
</ul>
<p>The following advanced options are also available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_FORCE_STATIC_LLVM</span></code>: force statically linking to the LLVM libraries
(off by default). Note that, by default, heyoka prefers to dynamically link to LLVM
if both dynamic and static versions of the libraries are available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HEYOKA_HIDE_LLVM_SYMBOLS</span></code>: when statically linking to the LLVM libraries,
try to hide the symbols exported by LLVM (off by default). When linking dynamically
to LLVM, this option has no effects.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">HEYOKA_HIDE_LLVM_SYMBOLS</span></code> option is useful if heyoka needs to be used in conjunction
with software linking to an LLVM version different from the one used by heyoka. In such
cases, symbol collisions between different LLVM version coexisting in the same process
will lead to unpredictable runtime behaviour (e.g., segfaults). This option attempts
to hide the LLVM symbols exported by the LLVM version in use by heyoka in order to
avoid symbol collisions. Note however that, depending on the platform, the
<code class="docutils literal notranslate"><span class="pre">HEYOKA_HIDE_LLVM_SYMBOLS</span></code> option might end up hiding the symbols exported by
<strong>all</strong> the static libraries heyoka links to (i.e., not only LLVM),
which might end up creating other issues. Users are thus advised to activate this option
only if LLVM is the <strong>only</strong> static library heyoka links to.</p>
<p>In order to build heyoka, you can run the following CMake command from the
build directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>--build<span class="w"> </span>.
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>heyoka relies on a conforming implementation of IEEE floating-point
arithmetic. Do <em>not</em> enable fast math flags (e.g., <code class="docutils literal notranslate"><span class="pre">-ffast-math</span></code>,
<code class="docutils literal notranslate"><span class="pre">-Ofast</span></code>, etc.) when compiling heyoka or software depending on heyoka.
If you are using the Intel C++ compiler, make sure that you are using
the <code class="docutils literal notranslate"><span class="pre">strict</span></code> floating-point model.</p>
</div>
<p>To install heyoka, you can use the following CMake command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w">  </span>--build<span class="w"> </span>.<span class="w"> </span>--target<span class="w"> </span>install
</pre></div>
</div>
<p>The installation command will copy the heyoka headers and library to the
<code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code> directory.</p>
<p>If you enabled the <code class="docutils literal notranslate"><span class="pre">HEYOKA_BUILD_TESTS</span></code> option, you can run the test suite
with the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w">  </span>--build<span class="w"> </span>.<span class="w"> </span>--target<span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On Windows, and if heyoka is built as a shared library (the default),
in order to execute the test or the benchmark suite you have to ensure that the
<code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable includes the directory that contains the heyoka
DLL (otherwise the tests will fail to run).</p>
</div>
</section>
<section id="including-heyoka-in-your-project-via-cmake">
<h2>Including heyoka in your project via CMake<a class="headerlink" href="#including-heyoka-in-your-project-via-cmake" title="Permalink to this headline">#</a></h2>
<p>As a part of the heyoka installation, a group of CMake files is installed into
<code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX/lib/cmake/heyoka</span></code>.
This bundle, which is known in the CMake lingo as a
<a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-packages.7.html">config-file package</a>,
facilitates the detection and use of heyoka from other CMake-based projects.
heyoka’s config-file package, once loaded, provides
an imported target called <code class="docutils literal notranslate"><span class="pre">heyoka::heyoka</span></code> which encapsulates all the information
necessary to use heyoka. That is, linking to
<code class="docutils literal notranslate"><span class="pre">heyoka::heyoka</span></code> ensures that heyoka’s include directories are added to the include
path of the compiler, and that the libraries
on which heyoka depends are brought into the link chain.</p>
<p>For instance, a <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file for a project using heyoka
may look like this:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># heyoka requires at least CMake 3.8.</span>
<span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.8.0</span><span class="p">)</span>

<span class="c"># The name of our project.</span>
<span class="nb">project</span><span class="p">(</span><span class="s">sample_project</span><span class="p">)</span>

<span class="c"># Look for an installation of heyoka in the system.</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">heyoka</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>

<span class="c"># Create an executable, and link it to the heyoka::heyoka imported target.</span>
<span class="c"># This ensures that, in the compilation of &#39;main&#39;, heyoka&#39;s include</span>
<span class="c"># dirs are added to the include path of the compiler and that heyoka&#39;s</span>
<span class="c"># dependencies are transitively linked to &#39;main&#39;.</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">main</span><span class="w"> </span><span class="s">main.cpp</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">main</span><span class="w"> </span><span class="s">heyoka::heyoka</span><span class="p">)</span>
</pre></div>
</div>
<p>heyoka’s config-file package also exports the following boolean variables to signal with which optional
dependencies heyoka was compiled:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">heyoka_WITH_SLEEF</span></code> if SLEEF support was enabled,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">heyoka_WITH_MPPP</span></code> if mp++ support was enabled,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">heyoka_WITH_REAL128</span></code> (new in version 0.19) if quadruple-precision
computations via the <a class="reference external" href="https://bluescarni.github.io/mppp/real128.html#_CPPv4N4mppp7real128E" title="(in mp++ v0.27)"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">mppp::real128</span></code></a> type are supported,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">heyoka_WITH_REAL</span></code> (new in version 0.20) if arbitrary-precision
computations via the <a class="reference external" href="https://bluescarni.github.io/mppp/real.html#_CPPv4N4mppp4realE" title="(in mp++ v0.27)"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">mppp::real</span></code></a> type are supported.</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.17.0.</span></p>
</div>
<p>heyoka’s config-file package also exports a
<code class="docutils literal notranslate"><span class="pre">heyoka_LLVM_VERSION_MAJOR</span></code> variable containing
the major number of the LLVM version against which heyoka
was compiled. E.g., if heyoka was compiled against LLVM 12.0.1,
then <code class="docutils literal notranslate"><span class="pre">heyoka_LLVM_VERSION_MAJOR</span></code> is <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">heyoka</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="basic_tutorials.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Basic tutorials</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Francesco Biscani, Dario Izzo<br/>
  
      &copy; Copyright 2020, 2021, 2022 Francesco Biscani, Dario Izzo.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>